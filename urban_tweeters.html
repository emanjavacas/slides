<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>Mapping Urban Multilingualism through Twitter</title>
<meta name="author" content="(Enrique Manjavacas & Ben Verhoeven)"/>


<link rel="stylesheet" href="./css/reveal.css"/>
<link rel="stylesheet" href="./css/theme/white.css" id="theme"/>
<link rel="stylesheet" href="./extra_multilingualism.css"/>
<!-- If the query includes 'print-pdf', include the PDF print sheet -->
<script>
    if( window.location.search.match( /print-pdf/gi ) ) {
        var link = document.createElement( 'link' );
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = './css/print/pdf.css';
        document.getElementsByTagName( 'head' )[0].appendChild( link );
    }
</script>
<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<link href='http://fonts.googleapis.com/css?family=Source+Code+Pro' rel='stylesheet' type='text/css'> <style type="text/css">pre{background-color: #232323; color: #E6E1DC;}</style>
</head>
<body>
<div class="reveal">
<div class="slides">
<section id="sec-title-slide">
<h1>Mapping Urban Multilingualism through Twitter</h1>
<h2>Enrique Manjavacas &amp; Ben Verhoeven</h2>
<h2><a href="mailto:http://emanjavacas.github.io/slides/">http://emanjavacas.github.io/slides/</a></h2>
<h2></h2>
</section>
<section id="table-of-contents">
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#/slide-sec-1">1. Research question</a></li>
<li><a href="#/slide-sec-2">2. Dataset</a></li>
<li><a href="#/slide-sec-3">3. Validation</a></li>
<li><a href="#/slide-sec-4">4. Language-based mobility patterns</a></li>
<li><a href="#/slide-sec-5">5. Visualization</a></li>
<li><a href="#/slide-sec-6">6. Future work</a></li>
<li><a href="#/slide-sec-7">7. The End</a></li>
</ul>
</div>
</div>
</section>


<section>
<section id="slide-sec-1">
<h2 id="sec-1"><span class="section-number-2">1</span> Research question</h2>
<ul class="fragment roll-in">
<li>How to gain direct insight into actual language use in urban landscapes</li>

</ul>
<ul class="fragment roll-in">
<li>Linguistic landscaping? (e.g Vanderbroucke 2014)</li>

</ul>
<ul class="fragment roll-in">
<li>Language use is neither easily observed nor quantified</li>

</ul>
<ul class="fragment roll-in">
<li>Why not use Twitter? <a href="https://blog.twitter.com/2009/think-globally-tweet-locally">Geolocation available</a> since November 2009</li>

</ul>

</section>
</section>
<section>
<section id="slide-sec-2">
<h2 id="sec-2"><span class="section-number-2">2</span> Dataset</h2>
<div class="outline-text-2" id="text-2">
</div></section>
</section>
<section>
<section id="slide-sec-2-1">
<h3 id="sec-2-1"><span class="section-number-3">2.1</span> Data collection</h3>
<div class="org-src-container">

<pre  class="src src-json"> <span style="color: #F0DFAF; font-weight: bold;">"place"</span>:{
    <span style="color: #F0DFAF; font-weight: bold;">"country"</span>:<span style="color: #CC9393;">"United States"</span>,
    <span style="color: #F0DFAF; font-weight: bold;">"place_type"</span>:<span style="color: #CC9393;">"city"</span>,
    <span style="color: #F0DFAF; font-weight: bold;">"country_code"</span>:<span style="color: #CC9393;">"US"</span>,
    <span style="color: #F0DFAF; font-weight: bold;">"bounding_box"</span>:{
        <span style="color: #F0DFAF; font-weight: bold;">"type"</span>:<span style="color: #CC9393;">"Polygon"</span>,
        <span style="color: #F0DFAF; font-weight: bold;">"coordinates"</span>:[[[-<span style="color: #BFEBBF;">84.647561</span>,<span style="color: #BFEBBF;">37.031352</span>],[-<span style="color: #BFEBBF;">84.564839</span>,<span style="color: #BFEBBF;">37.031352</span>],
                         [-<span style="color: #BFEBBF;">84.564839</span>,<span style="color: #BFEBBF;">37.117608</span>],[-<span style="color: #BFEBBF;">84.647561</span>,<span style="color: #BFEBBF;">37.117608</span>]]]
    },
    <span style="color: #F0DFAF; font-weight: bold;">"full_name"</span>:<span style="color: #CC9393;">"Somerset, KY"</span>,
    <span style="color: #F0DFAF; font-weight: bold;">"name"</span>:<span style="color: #CC9393;">"Somerset"</span>,
    <span style="color: #F0DFAF; font-weight: bold;">"id"</span>:<span style="color: #CC9393;">"0c610ec760ff6a57"</span>
 }
</pre>
</div>

</section>
<section>
<ul>
<li>Use the <a href="https://dev.twitter.com/streaming/overview">Twitter Streaming API</a> to collect data for four cities:</li>

</ul>
<span class="fragment roll-in"><p>
-&gt; <b>Amsterdam</b>: highly international
</p></span>
<span class="fragment roll-in"><p>
-&gt; <b>Antwerp</b>: geographically small but highly multilingual
</p></span>
<span class="fragment roll-in"><p>
-&gt; <b>Berlin</b>: large spread and decentralized
</p></span>
<span class="fragment roll-in"><p>
-&gt; <b>Brussels</b>: bilingualism
</p></span>

</section>
</section>
<section>
<section id="slide-sec-2-2">
<h3 id="sec-2-2"><span class="section-number-3">2.2</span> Dataset size</h3>
<p>
<b>Mining since December 2014</b>
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides" class="fragment roll-in">


<colgroup>
<col  class="left" />

<col  class="right" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">City</th>
<th scope="col" class="right">Number of tweets</th>
<th scope="col" class="left">Box size</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">Amsterdam</td>
<td class="right">679205</td>
<td class="left">23,44</td>
</tr>

<tr>
<td class="left">Antwerp</td>
<td class="right">415813</td>
<td class="left">83,03</td>
</tr>

<tr>
<td class="left">Berlin</td>
<td class="right">691998</td>
<td class="left">45,01</td>
</tr>

<tr>
<td class="left">Brussels</td>
<td class="right">497667</td>
<td class="left">46,94</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>Total</b></td>
<td class="right">2284683</td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
</table>

</section>
<section>
<ul>
<li>Twitter API offers access to ~1% tweets</li>

</ul>
<ul class="fragment roll-in">
<li>Georeferenced tweets constitute 1,6% from the stream (Leetaru et al. 2012)</li>

</ul>

</section>
</section>
<section>
<section id="slide-sec-2-3">
<h3 id="sec-2-3"><span class="section-number-3">2.3</span> Data processing</h3>
<div class="outline-text-3" id="text-2-3">
</div></section>
</section>
<section>
<section id="slide-sec-2-3-1">
<h4 id="sec-2-3-1"><span class="section-number-4">2.3.1</span> Language identification</h4>
<ul>
<li>Large accuracy needed</li>

</ul>
<ul class="fragment roll-in">
<li>Twitter&rsquo;s own identification system is not really trustworthy (speed over reliability)</li>

</ul>
<ul class="fragment roll-in">
<li>Implementation of the setup in (Lui &amp; Baldwin 2014)</li>

</ul>

<ul class="fragment roll-in">
<li>Removal of Twitter-specific patterns <code>#hashtags</code>, <code>@usernames</code>, and <a href="http://links.co">http://links.co</a></li>

</ul>
<ul class="fragment roll-in">
<li>Majority vote on three systems:</li>

</ul>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides" class="fragment roll-in">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left"><a href="https://github.com/saffsd/langid.py">langid.py</a></td>
<td class="left">97 languages</td>
</tr>

<tr>
<td class="left"><a href="https://code.google.com/p/cld2/">CLD2</a></td>
<td class="left">&gt; 80 languages</td>
</tr>

<tr>
<td class="left"><a href="https://code.google.com/p/language-detection/">LangDetect</a></td>
<td class="left">53 languages</td>
</tr>
</tbody>
</table>

</section>
</section>
<section>
<section id="slide-sec-2-3-2">
<h4 id="sec-2-3-2"><span class="section-number-4">2.3.2</span> Bot detection</h4>

<div class="figure">
<p><img src="./img/angrybot.png" alt="angrybot.png" />
</p>
</div>

</section>
<section>
<p>
Only known available system is <a href="http://truthy.indiana.edu/botornot/">Bot or Not?</a> (no API)
</p>
<ul class="fragment roll-in">
<li>Bots are in general more productive than humans <a href="http://delivery.acm.org/10.1145/1930000/1920265/p21-chu.pdf?ip=146.175.5.198&id=1920265&acc=ACTIVE%20SERVICE&key=D7FC43CABE88BEAA.E1DEF47A6C0527C4.4D4702B0C3E38B35.4D4702B0C3E38B35&CFID=517147308&CFTOKEN=29245406&__acm__=1433514639_03e1ac45f70c85b1fa352c6ff0acd697">(Chu et al. 2010)</a></li>
<li>Bots tweet more evenly distributed across time (ibid.)</li>

</ul>

<ul class="fragment roll-in">
<li>Look for the 100 accounts with largest number of tweets in the database</li>
<li>16 bots accounting for 209,648 (1/6) tweets in the Berlin subset.</li>

</ul>

</section>
</section>
<section>
<section id="slide-sec-3">
<h2 id="sec-3"><span class="section-number-2">3</span> Validation</h2>
<ul>
<li>Gap between Twitter data and some extern statistic based on real values</li>

</ul>
<ul class="fragment roll-in">
<li>Difficult to find bias-free dataset of language use in cities</li>

</ul>

</section>
</section>
<section>
<section id="slide-sec-3-1">
<h3 id="sec-3-1"><span class="section-number-3">3.1</span> Problems</h3>
<span class="fragment roll-in"><p>
<b>Double inference</b>
</p></span>
<ul class="fragment roll-in">
<li>From nationality to native language</li>

</ul>
<ul class="fragment roll-in">
<li>From native language to actual twitter language</li>

</ul>

<span class="fragment roll-in"><p>
<b>Overrepresentation of prolific users/languages</b>
</p></span>
<ul class="fragment roll-in">
<li>English</li>

</ul>

<span class="fragment roll-in"><p>
<b>Underrepresentation of certain languages</b>
</p></span>
<ul class="fragment roll-in">
<li>National Twitter-usage patterns (e.g Romanian)</li>

</ul>
<ul class="fragment roll-in">
<li>Illiteracy (minor communities, e.g. Somali)</li>

</ul>
</section>
<section>


<div class="figure">
<p><a href="http://urbanmovements.co.uk/2012/10/23/detecting-languages-in-londons-twittersphere/"><img src="./img/illiteracy.png" alt="illiteracy.png" /></a>
</p>
</div>

<p>
(from <a href="http://urbanmovements.co.uk/2012/10/23/detecting-languages-in-londons-twittersphere/">urbanmovements.co.uk</a>)
</p>

</section>
</section>
<section>
<section id="slide-sec-3-1-1">
<h4 id="sec-3-1-1"><span class="section-number-4">3.1.1</span> Dataset</h4>
<p>
<a href="http://statistik-berlin-brandenburg.de/">http://statistik-berlin-brandenburg.de/</a>
</p>

</section>
<section>
<div class="org-src-container">

<pre  class="src src-json"><span style="color: #CC9393;">"Nationality"</span>,<span style="color: #CC9393;">"District"</span>,<span style="color: #CC9393;">"Migratory_background"</span>,<span style="color: #CC9393;">"Foreigners"</span>
<span style="color: #CC9393;">"fr"</span>,<span style="color: #CC9393;">"01 Mitte"</span>,<span style="color: #BFEBBF;">782</span>,<span style="color: #BFEBBF;">3262</span>
<span style="color: #CC9393;">"fr"</span>,<span style="color: #CC9393;">"0101 Zentrum"</span>,<span style="color: #BFEBBF;">385</span>,<span style="color: #BFEBBF;">1478</span>
<span style="color: #CC9393;">"fr"</span>,<span style="color: #CC9393;">"010111 Tiergarten S&#252;d"</span>,<span style="color: #BFEBBF;">63</span>,<span style="color: #BFEBBF;">218</span>
<span style="color: #CC9393;">"fr"</span>,<span style="color: #CC9393;">"01011101 St&#252;lerstra&#223;e"</span>,<span style="color: #BFEBBF;">9</span>,<span style="color: #BFEBBF;">30</span>
<span style="color: #CC9393;">"fr"</span>,<span style="color: #CC9393;">"01011102 Gro&#223;er Tiergarten"</span>,<span style="color: #BFEBBF;">0</span>,<span style="color: #BFEBBF;">3</span>
<span style="color: #CC9393;">"fr"</span>,<span style="color: #CC9393;">"01011103 L&#252;tzowstra&#223;e"</span>,<span style="color: #BFEBBF;">35</span>,<span style="color: #BFEBBF;">94</span>
<span style="color: #CC9393;">"fr"</span>,<span style="color: #CC9393;">"01011104 K&#246;rnerstra&#223;e"</span>,<span style="color: #BFEBBF;">16</span>,<span style="color: #BFEBBF;">79</span>
<span style="color: #CC9393;">"fr"</span>,<span style="color: #CC9393;">"01011105 N&#246;rdlicher Landwehrkanal"</span>,<span style="color: #BFEBBF;">3</span>,<span style="color: #BFEBBF;">12</span>
<span style="color: #CC9393;">"fr"</span>,<span style="color: #CC9393;">"010112 Regierungsviertel"</span>,<span style="color: #BFEBBF;">22</span>,<span style="color: #BFEBBF;">103</span>
</pre>
</div>

</section>
</section>
<section>
<section id="slide-sec-3-2" data-background="./img/berlin_skyline.jpg" data-background-transition="slide">
<h3 id="sec-3-2"><span class="section-number-3">3.2</span> Multigroup segregation measures</h3>

</section>
<section>
<ul>
<li>Correlate <i>neighbourhood segregation scores</i> across datasets</li>

</ul>

</section>
</section>
<section>
<section id="slide-sec-3-2-1">
<h4 id="sec-3-2-1"><span class="section-number-4">3.2.1</span> Segregation measures</h4>
<ul class="fragment roll-in">
<li>Use in segregational studies to compare cities according to income, race&#x2026;</li>

</ul>

<ul class="fragment roll-in">
<li>Average difference between disproportionality in organizational unit and total disproportionality weighted by total disproportionality</li>

</ul>

<ul class="fragment roll-in">
<li>General mathematical definition (as in Reardon &amp; Firebaugh 2002)</li>

</ul>

<span class="fragment roll-in"><p>
\(H = \sum\limits_{j=1}^J \frac{t_j}{TE}(E - E_j)\)
</p></span>

<ul class="fragment roll-in">
<li>E: disproportionality function (e.g. entropy)</li>
<li>\(t_j\): number of individuals in organizational unit j</li>
<li>\(E_j\): entropy in organizational unit j</li>
<li>\(E\): total entropy (across organizational units)</li>
<li>\(T\): total number of individuals</li>

</ul>

</section>
</section>
<section>
<section id="slide-sec-3-2-2">
<h4 id="sec-3-2-2"><span class="section-number-4">3.2.2</span> Results</h4>

<div class="figure">
<p><img src="./img/segregation_corr.png" alt="segregation_corr.png" />
</p>
</div>
</section>
<section>
<p>
\(R^2\) 0.87
</p>

</section>
</section>
<section>
<section id="slide-sec-4">
<h2 id="sec-4"><span class="section-number-2">4</span> Language-based mobility patterns</h2>
<p>
Can we establish mobility patterns based on the language of tweets?
</p>

</section>
</section>
<section>
<section id="slide-sec-4-1">
<h3 id="sec-4-1"><span class="section-number-3">4.1</span> Sampling</h3>
<ul class="fragment roll-in">
<li>Discard users with less than 35 tweets in a single language</li>

</ul>
<ul class="fragment roll-in">
<li>Discard users with a l1/l2-proportion of less than 4/1</li>

</ul>

<p>
&#x2014; 
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides" class="fragment roll-in">


<colgroup>
<col  class="left" />

<col  class="right" />

<col  class="right" />

<col  class="right" />

<col  class="right" />

<col  class="right" />

<col  class="right" />

<col  class="right" />
</colgroup>
<tbody>
<tr>
<td class="left"><b>languages</b></td>
<td class="right">en</td>
<td class="right">ar</td>
<td class="right">es</td>
<td class="right">ru</td>
<td class="right">pt</td>
<td class="right">tr</td>
<td class="right">de</td>
</tr>

<tr>
<td class="left"><b># Users</b></td>
<td class="right">592</td>
<td class="right">60</td>
<td class="right">64</td>
<td class="right">42</td>
<td class="right">37</td>
<td class="right">111</td>
<td class="right">747</td>
</tr>
</tbody>
</table>

<ul class="fragment roll-in">
<li>Samples of size ~35 users per language, ~35 points per user</li>

</ul>

</section>
</section>
<section>
<section id="slide-sec-4-2">
<h3 id="sec-4-2"><span class="section-number-3">4.2</span> Computations</h3>
<ul>
<li>Estimate mobility as the average distance from a user centroid</li>

</ul>

<span class="fragment roll-in"><p>
\(\sqrt[]{\frac{1}{n}\sum\limits_{i=1}^n haversin(a_i - \bar{a_i})^2}\)
</p></span>

</section>
</section>
<section>
<section id="slide-sec-4-3">
<h3 id="sec-4-3"><span class="section-number-3">4.3</span> Results</h3>
<p>
<b>One-way ANOVA</b>
</p>

<pre class="example">
:              Df Sum Sq Mean Sq F value   Pr(&gt;F)    
: lang          6  164.6  27.437   4.138 0.000516 ***
: Residuals   308 2042.4   6.631                     
: ---
: Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
</pre>

</section>
<section>

<div class="figure">
<p><img src="./img/mean_error_bars.png" alt="mean_error_bars.png" />
</p>
</div>

</section>
<section>
<p>
<b>Single T-test</b>
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><b>language pair</b></th>
<th scope="col" class="right"><code>p-value</code></th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">tr de</td>
<td class="right">0.0002</td>
</tr>

<tr>
<td class="left">ar de</td>
<td class="right">0.0003</td>
</tr>

<tr>
<td class="left">tr ar</td>
<td class="right">0.9903</td>
</tr>

<tr>
<td class="left">pt es</td>
<td class="right">0.9518</td>
</tr>
</tbody>
</table>

</section>
</section>
<section>
<section id="slide-sec-5">
<h2 id="sec-5"><span class="section-number-2">5</span> Visualization</h2>

<div class="figure">
<p><a href="http://github.com/emanjavacas/urban-tweeters"><img src="./img/antwerp.png" alt="antwerp.png" /></a>
</p>
</div>

</section>
</section>
<section>
<section id="slide-sec-6">
<h2 id="sec-6"><span class="section-number-2">6</span> Future work</h2>
<div class="outline-text-2" id="text-6">
</div></section>
</section>
<section>
<section id="slide-sec-6-1">
<h3 id="sec-6-1"><span class="section-number-3">6.1</span> Analyse locality patterns</h3>
<ul>
<li>How tight together are speakers of the same language?</li>

</ul>
<ul class="fragment roll-in">
<li>Consider multiple clusters (language centroids)</li>

</ul>

</section>
</section>
<section>
<section id="slide-sec-6-2">
<h3 id="sec-6-2"><span class="section-number-3">6.2</span> Tourism detection</h3>
<ul>
<li>Assign users to the country from which the majority of their tweets came. (Hawelka et al. 2014)</li>

</ul>
<ul class="fragment roll-in">
<li>Focused sampling of user timelines.</li>

</ul>

</section>
<section>


<div class="figure">
<p><img src="./img/num_ids_date.png" alt="num_ids_date.png" />
</p>
</div>

</section>
</section>
<section>
<section id="slide-sec-7">
<h2 id="sec-7"><span class="section-number-2">7</span> The End</h2>
<p>
Thank You for your attention
</p>

</section>
<section>

<ul>
<li><i>Measures of multigroup segregation</i> <b>Reardon, Sean F. &amp; Firebaugh, G.</b> Sociological methodology 2002</li>

<li><i>The measurement of spatial segregation</i> <b>White, Michael J</b> American journal of sociology 1983</li>

<li><i>Mapping German Tweets to Geographic Regions</i> <b>Scheffler, T</b> KONVENS 2014</li>

<li><i>Mapping the global Twitter heartbeat: The geography of Twitter</i> <b>Leetaru, K.</b> First Monday 2013</li>

</ul>


</section>
<section>
<ul>
<li><i>Geo-located Twitter as proxy for global mobility patterns</i> <b>Hawelka et al.</b> 2014</li>

<li><i>Accurate language identification of twitter messages</i> <b>Lui, M. &amp; Baldwin T.</b> EACL 2014</li>

<li><a href="https://shuyo.wordpress.com/2012/02/21/language-detection-for-twitter-with-99-1-accuracy/"><i>Short text language detection with infinity-gram</i></a> <b>Shuyo Nakatani</b> 2012</li>

<li><a href="http://www.slideshare.net/shuyo/language-detection-library-for-java"><i>Language detection library</i></a> <b>Shuyo Nakatani</b> 2010</li>

</ul>

</section>
<section>

<ul>
<li><a href="http://blog.mikemccandless.com/2011/10/accuracy-and-performance-of-googles.html"><i>Accuracy and performance of google&rsquo;s compact language detector</i></a> <b>McCandless M.</b> 2010</li>

<li><i>langid.py: An off-the-shelf language identification tool</i> <b>Lui, M &amp; Baldwin, T.</b> Proceedings of the ACL 2012 2012</li>

<li><i>Language visibility, functionality and meaning across various TimeSpace scales in Brussels&rsquo; multilingual landscapes</i> <b>Vandenbroucke, Mieke</b> 2014</li>

</ul>
</section>
</section>
</div>
</div>

<script src="./lib/js/head.min.js"></script>
<script src="./js/reveal.js"></script>

<script>
// Full list of configuration options available here:
// https://github.com/hakimel/reveal.js#configuration
Reveal.initialize({

controls: true,
progress: true,
history: true,
center: true,
slideNumber: true,
rollingLinks: true,
keyboard: true,
overview: true,
width: 1200,
height: 800,
margin: 0.10,
minScale: 0.50,
maxScale: 2.50,

theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
transition: Reveal.getQueryHash().transition || 'fade', // default/cube/page/concave/zoom/linear/fade/none
transitionSpeed: 'nil',
multiplex: {
    secret: '', // null if client
    id: '', // id, obtained from socket.io server
    url: '' // Location of socket.io server
},

// Optional libraries used to extend on reveal.js
dependencies: [
 { src: './plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
 { src: './plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
 { src: './plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
 { src: './plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
]
});
</script>
</body>
</html>
